<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stdenv (eio.Eio.Stdenv)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">eio</a> &#x00BB; <a href="../index.html">Eio</a> &#x00BB; Stdenv</nav><header class="odoc-preamble"><h1>Module <code><span>Eio.Stdenv</span></code></h1><p>The standard environment of a process.</p><p>All access to the outside world comes from running the event loop, which provides an environment (e.g. an <a href="../../Eio_unix/Stdenv/index.html#type-base"><code>Eio_unix.Stdenv.base</code></a>).</p><p>Example:</p><pre class="language-ocaml"><code>let () =
  Eio_main.run @@ fun env -&gt;
  Eio.Path.with_open_dir env#fs &quot;/srv/www&quot; @@ fun www -&gt;
  serve_files www
    ~net:env#net</code></pre></header><nav class="odoc-toc"><ul><li><a href="#standard-streams">Standard streams</a></li><li><a href="#file-system-access">File-system access</a></li><li><a href="#network">Network</a></li><li><a href="#processes">Processes</a></li><li><a href="#domains-(using-multiple-cpu-cores)">Domains (using multiple CPU cores)</a></li><li><a href="#time">Time</a></li><li><a href="#randomness">Randomness</a></li><li><a href="#debugging">Debugging</a></li></ul></nav><div class="odoc-content"><h2 id="standard-streams"><a href="#standard-streams" class="anchor"></a>Standard streams</h2><p>To use these, see <a href="../Flow/index.html"><code>Flow</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-stdin"><a href="#val-stdin" class="anchor"></a><code><span><span class="keyword">val</span> stdin : <span><span>&lt; stdin : <a href="../Flow/class-source/index.html">Flow.source</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stdout"><a href="#val-stdout" class="anchor"></a><code><span><span class="keyword">val</span> stdout : <span><span>&lt; stdout : <a href="../Flow/class-sink/index.html">Flow.sink</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stderr"><a href="#val-stderr" class="anchor"></a><code><span><span class="keyword">val</span> stderr : <span><span>&lt; stderr : <a href="../Flow/class-sink/index.html">Flow.sink</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><h2 id="file-system-access"><a href="#file-system-access" class="anchor"></a>File-system access</h2><p>To use these, see <a href="../Path/index.html"><code>Path</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-cwd"><a href="#val-cwd" class="anchor"></a><code><span><span class="keyword">val</span> cwd : <span><span>&lt; cwd : <span><span class="type-var">_</span> <a href="../Path/index.html#type-t">Path.t</a></span> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>cwd t</code> is the current working directory of the process (this may change over time if the process does a &quot;chdir&quot; operation, which is not recommended).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fs"><a href="#val-fs" class="anchor"></a><code><span><span class="keyword">val</span> fs : <span><span>&lt; fs : <span><span class="type-var">_</span> <a href="../Path/index.html#type-t">Path.t</a></span> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fs t</code> is the process's full access to the filesystem.</p><p>Paths can be absolute or relative (to the current working directory). Using relative paths with this is similar to using them with <a href="#val-cwd"><code>cwd</code></a>, except that this will follow &quot;..&quot; and symlinks to other parts of the filesystem.</p><p><code>fs</code> is useful for handling paths passed in by the user.</p></div></div><h2 id="network"><a href="#network" class="anchor"></a>Network</h2><p>To use this, see <a href="../Net/index.html"><code>Net</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-net"><a href="#val-net" class="anchor"></a><code><span><span class="keyword">val</span> net : <span><span>&lt; net : <a href="../Net/class-t/index.html">Net.t</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>net t</code> gives access to the process's network namespace.</p></div></div><h2 id="processes"><a href="#processes" class="anchor"></a>Processes</h2><p>To use this, see <a href="../Process/index.html"><code>Process</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-process_mgr"><a href="#val-process_mgr" class="anchor"></a><code><span><span class="keyword">val</span> process_mgr : <span><span>&lt; process_mgr : <a href="../Process/class-mgr/index.html">Process.mgr</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>process_mgr t</code> allows you to manage child processes.</p></div></div><h2 id="domains-(using-multiple-cpu-cores)"><a href="#domains-(using-multiple-cpu-cores)" class="anchor"></a>Domains (using multiple CPU cores)</h2><p>To use this, see <a href="../Domain_manager/index.html"><code>Domain_manager</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-domain_mgr"><a href="#val-domain_mgr" class="anchor"></a><code><span><span class="keyword">val</span> domain_mgr : <span><span>&lt; domain_mgr : <a href="../Domain_manager/class-t/index.html">Domain_manager.t</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>domain_mgr t</code> allows running code on other cores.</p></div></div><h2 id="time"><a href="#time" class="anchor"></a>Time</h2><p>To use this, see <a href="../Time/index.html"><code>Time</code></a>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-clock"><a href="#val-clock" class="anchor"></a><code><span><span class="keyword">val</span> clock : <span><span>&lt; clock : <a href="../Time/class-clock/index.html">Time.clock</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>clock t</code> is the system clock (used to get the current time and date).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mono_clock"><a href="#val-mono_clock" class="anchor"></a><code><span><span class="keyword">val</span> mono_clock : <span><span>&lt; mono_clock : <a href="../Time/Mono/class-t/index.html">Time.Mono.t</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>mono_clock t</code> is a monotonic clock (used for measuring intervals).</p></div></div><h2 id="randomness"><a href="#randomness" class="anchor"></a>Randomness</h2><div class="odoc-spec"><div class="spec value anchored" id="val-secure_random"><a href="#val-secure_random" class="anchor"></a><code><span><span class="keyword">val</span> secure_random : <span><span>&lt; secure_random : <a href="../Flow/class-source/index.html">Flow.source</a> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>secure_random t</code> is an infinite source of random bytes suitable for cryptographic purposes.</p></div></div><h2 id="debugging"><a href="#debugging" class="anchor"></a>Debugging</h2><div class="odoc-spec"><div class="spec value anchored" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span><span class="keyword">val</span> debug : <span><span>&lt; debug : <span>&lt; <a href="../Debug/index.html#type-t">Debug.t</a>.. &gt;</span> <span class="keyword">as</span> 'a.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>debug t</code> provides privileged controls for debugging.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-backend_id"><a href="#val-backend_id" class="anchor"></a><code><span><span class="keyword">val</span> backend_id : <span><span>&lt; backend_id : string.. &gt;</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>backend_id t</code> provides the name of the backend being used.</p><p>The possible values are the same as the possible values of the &quot;EIO_BACKEND&quot; environment variable used by <code>Eio_main</code>.run.</p></div></div></div></body></html>