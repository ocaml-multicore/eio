<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Suspend (eio.Eio.Private.Suspend)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">eio</a> &#x00BB; <a href="../../index.html">Eio</a> &#x00BB; <a href="../index.html">Private</a> &#x00BB; Suspend</nav><header class="odoc-preamble"><h1>Module <code><span>Private.Suspend</span></code></h1><p>Suspend a fiber and enter the scheduler.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-enter"><a href="#val-enter" class="anchor"></a><code><span><span class="keyword">val</span> enter : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Fiber_context/index.html#type-t">Fiber_context.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Effects/index.html#type-enqueue">Effects.enqueue</a></span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>enter op fn</code> suspends the calling fiber and calls <code>fn ctx enqueue</code> in the scheduler's context.</p><p>This should arrange for <code>enqueue</code> to be called when the fiber should be resumed. <code>enqueue</code> is thread-safe and so can be called from another domain or systhread.</p><p><code>ctx</code> should be used to set a cancellation function. Otherwise, the operation is non-interruptable. If the caller's cancellation context is already cancelled, <code>enter</code> immediately aborts.</p><p><code>op</code> is used when tracing to label the operation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-enter_unchecked"><a href="#val-enter_unchecked" class="anchor"></a><code><span><span class="keyword">val</span> enter_unchecked : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Fiber_context/index.html#type-t">Fiber_context.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Effects/index.html#type-enqueue">Effects.enqueue</a></span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>enter_unchecked</code> is like <code>enter</code> except that it does not perform the initial check that the fiber isn't cancelled (this is useful if you want to do the check yourself, e.g. because you need to unlock a mutex if cancelled).</p></div></div></div></body></html>
