<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Process (eio.Eio_unix.Process)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.0.0-823-ge94c197"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">eio</a> &#x00BB; <a href="../index.html">Eio_unix</a> &#x00BB; Process</nav><header class="odoc-preamble"><h1>Module <code><span>Eio_unix.Process</span></code></h1><p>Spawning child processes with extra control.</p><p>This extends the <a href="../../Eio/Process/index.html"><code>Eio.Process</code></a> API with more control over file-descriptors.</p></header><nav class="odoc-toc"><ul><li><a href="#types">Types</a></li></ul></nav><div class="odoc-content"><h3 id="types"><a href="#types" class="anchor"></a>Types</h3><p>These extend the types in <a href="../../Eio/Process/index.html"><code>Eio.Process</code></a> with support for file descriptors.</p><div class="odoc-spec"><div class="spec type anchored" id="type-ty"><a href="#type-ty" class="anchor"></a><code><span><span class="keyword">type</span> ty</span><span> = <span><span>[ `Generic <span>| `Unix</span> ]</span> <a href="../../Eio/Process/index.html#type-ty">Eio.Process.ty</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span>[&gt; <a href="#type-ty">ty</a> ]</span> <span class="keyword">as</span> 'a <a href="../../Eio/Std/index.html#type-r">Eio.Std.r</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mgr_ty"><a href="#type-mgr_ty" class="anchor"></a><code><span><span class="keyword">type</span> mgr_ty</span><span> = <span><span>[ `Generic <span>| `Unix</span> ]</span> <a href="../../Eio/Process/index.html#type-mgr_ty">Eio.Process.mgr_ty</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mgr"><a href="#type-mgr" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a mgr</span></span><span> = <span><span>[&gt; <a href="#type-mgr_ty">mgr_ty</a> ]</span> <span class="keyword">as</span> 'a <a href="../../Eio/Std/index.html#type-r">Eio.Std.r</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Pi"><a href="#module-Pi" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Pi/index.html">Pi</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make_mgr"><a href="#module-Make_mgr" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make_mgr/index.html">Make_mgr</a></span><span>
  (<a href="Make_mgr/argument-1-X/index.html">X</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : 
  <a href="Pi/module-type-MGR/index.html">Pi.MGR</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="Pi/module-type-MGR/index.html#type-t">t</a> = <a href="Make_mgr/argument-1-X/index.html#type-t">X.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="Pi/module-type-MGR/index.html#type-tag">tag</a> = <span>[ `Generic <span>| `Unix</span> ]</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-spawn_unix"><a href="#val-spawn_unix" class="anchor"></a><code><span><span class="keyword">val</span> spawn_unix : 
  <span><span class="label">sw</span>:<a href="../../Eio/Switch/index.html#type-t">Eio.Std.Switch.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">_</span> <a href="#type-mgr">mgr</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cwd</span>:<span><a href="../../Eio/Fs/index.html#type-dir_ty">Eio.Fs.dir_ty</a> <a href="../../Eio/Path/index.html#type-t">Eio.Path.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">fds</span>:<span><span>(int * <a href="../Fd/index.html#type-t">Fd.t</a> * <a href="../../Eio_unix__Fork_action/index.html#type-blocking">Private.Fork_action.blocking</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?env</span>:<span>string array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?executable</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-ty">ty</a> <a href="../../Eio/Std/index.html#type-r">Eio.Std.r</a></span></span></code></div><div class="spec-doc"><p><code>spawn_unix ~sw mgr ~fds args</code> spawns a child process running the command <code>args</code>.</p><p>The arguments are as for <a href="../../Eio/Process/index.html#val-spawn"><code>Eio.Process.spawn</code></a>, except that it takes a list of FD mappings for <code>Fork_action.inherit_fds</code> directly, rather than just flows for the standard streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sigchld"><a href="#val-sigchld" class="anchor"></a><code><span><span class="keyword">val</span> sigchld : <a href="../../Eio/Condition/index.html#type-t">Eio.Condition.t</a></span></code></div><div class="spec-doc"><p><b>If</b> an Eio backend installs a SIGCHLD handler, the handler will broadcast on this condition.</p><p>This allows non-Eio libraries (such as Lwt) to share its signal handler.</p><p>Note: Not all backends install a handler (e.g. eio_linux uses process descriptors instead), so be sure to call <a href="#val-install_sigchld_handler"><code>install_sigchld_handler</code></a> if you need to use this.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-install_sigchld_handler"><a href="#val-install_sigchld_handler" class="anchor"></a><code><span><span class="keyword">val</span> install_sigchld_handler : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>install_sigchld_handler ()</code> sets the signal handler for SIGCHLD to broadcast <a href="#val-sigchld"><code>sigchld</code></a>.</p></div></div></div></body></html>
